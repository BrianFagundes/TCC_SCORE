<div>
    <div class="welcome-container">
        <div class="user-info">
            <div class="container">
                <img src="../../assets/Logo.png" alt="Logo" class="logo">
                <div class="image-container">
                    <img id="selectedImage2" [src]="imagePath" alt="User Image" class="Botoes_usuario3"
                        (click)="usuario()">
                </div>
                <div class="user-details">
                    <ul class="user-details-Ul">
                        <li class="user-details-Ul-li1"><strong>ID:</strong> </li>
                        <li class="user-details-Ul-li2"> {{IdUsuario }} </li>
                        <li class="user-details-Ul-li2"><strong>Nome:</strong></li>
                        <li class="user-details-Ul-li2"> {{ (nomeUsuario? nomeUsuario.length : 0) > 9 ? (nomeUsuario |
                            slice:0:9) + '...' : nomeUsuario }} </li>
                    </ul>
                </div>
                <div class="logout-button" (click)="logout()">
                    <img style="margin-top: 4px;" src="../../assets/Logout.png" alt="Logout" class="Botoes_usuario" />
                </div>
            </div>
        </div>
        <div class="rectangle">
            <div class="welcome-message">
                <div *ngIf="tipotela != 'D'" class="top">
                    <p class="textotop">Alteração de dados do Evento</p>
                </div>
                <div *ngIf="tipotela == 'D'" class="top">
                    <p class="textotop">Consulta de dados do Evento</p>
                </div>    
                <div class="linha linha1">
                    <div class="coluna esquerda">
                        <img [src]="imagePath2" alt="Imagem"
                            class="imagem_inline2">
                    </div>
                    <div class="coluna direita">
                        <div class="sublinha">
                            <input class="input_inline1" name="nomeEquipe" placeholder="Nome da Equipe" #nomeEquipe required
                                [disabled]="true">
                        </div>
                        <div class="sublinha">
                            <input class="input_inline2" name="nomeEquipe" placeholder="ID Evento" #IdEvento required
                            [disabled]="true">
                            <input class="input_inline3" name="sigla"
                                placeholder="Nome do Evento*" #nomeevento required
                                [disabled]="true">                            
                        </div>
                        <div class="sublinha">     
                            <input class="input_inline4" name="nomeEquipe" placeholder="Local do evento* - Escolha no mapa" #localevento required
                                [disabled]="true">      
                                <button class="button8" (click)="abrirmapa()">Encontrar no mapa</button>                 
                        </div>
                        <div class="container-flex">
                            <div class="container-flex" style="margin-top: -13px;">
                                <select class="EquipeEvento" id="EquipeEvento" (change)="SetaFrequenciaEvento()" onchange="teste124252()"  [disabled]="tipotela == 'D'">
                                    <option value="0">Evento Semanal</option>
                                    <option value="1">Evento Único</option>
                                </select>  
                                <p class="cadastro-label3 p_inline1">Hora do Evento: </p>
                                <input type="time" name="nomeEquipe" placeholder="Hora do próximo evento*" #horaevento required 
                                    [disabled]="tipotela == 'D'">
                                <p class="cadastro-label3 p_inline2">Duração do Evento: </p>
                                <input type="time" name="nomeEquipe" placeholder="Duração do evento*" #duracaoevento required 
                                    [disabled]="tipotela == 'D'">

                            </div>                                                      
                        </div> 
                        <div class="container-flex"> 
                            <fieldset *ngIf="!frequencia" class="fieldset_inline1">
                                <legend>Dias da Semana</legend>
                                <p class="cadastro-label3">Seg</p>
                                <input type="checkbox" [checked]="Seg" #segunda  [disabled]="tipotela == 'D'">
                                <p class="cadastro-label3" >Ter</p>
                                <input type="checkbox" [checked]="Ter" #terca  [disabled]="tipotela == 'D'">
                                <p class="cadastro-label3" >Qua</p>
                                <input type="checkbox" [checked]="Qua" #quarta  [disabled]="tipotela == 'D'">
                                <p class="cadastro-label3" >Qui</p>
                                <input type="checkbox" [checked]="Qui" #quinta  [disabled]="tipotela == 'D'">
                                <p class="cadastro-label3" >Sex</p>
                                <input type="checkbox" [checked]="Sex" #sexta  [disabled]="tipotela == 'D'">
                                <p class="cadastro-label3" >Sab</p>
                                <input type="checkbox" [checked]="Sab" #sabado  [disabled]="tipotela == 'D'">
                                <p class="cadastro-label3" >Dom</p>
                                <input type="checkbox" [checked]="Dom" #domingo  [disabled]="tipotela == 'D'">
                            </fieldset>
                            <fieldset *ngIf="frequencia" class="fieldset_inline2" >
                                <legend>Dia do Evento</legend>
                            <input  type="date" name="diaevento" placeholder="Data do próximo evento*" id="diaevento" #diaevento required 
                                [disabled]="tipotela == 'D'">                                 
                            </fieldset>                                                 
                        </div>                                               
                    </div>
                </div>
                <div class="linha2">
                    
                        <button class="button1" (click)="abrirsorteio()">
                            <div class="botaosortear">
                                <p *ngIf="tipotela == 'A'" class="imagem_dado" >Sortear Equipes</p>
                                <p *ngIf="tipotela == 'D'" class="imagem_dado">Equipes Sorteadas</p>
                                <img src="../../assets/dado.png" alt="Dado"
                                    class="imagem_inline1">
                            </div>
                        </button>
                        <button class="button1" (click)="AbrirCustos()">                            
                                Gestão Custos  
                        </button>                       
                    
                </div>
                <div class="linha3">
                    
                    <button class="button-left"  *ngIf="tipotela == 'A'" style="color: green;" (click)="Gravadados()" >Confirmar</button>
                    <button class="button-center" *ngIf="tipotela == 'A'" style="color: red;" (click)="Canceladados()">Cancelar</button>
                    <button class="button-right"  (click)="TelaCriacaoevento()">Voltar</button>
                    
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal para Gerir participantes na equipe -->
<div class="modal" *ngIf="exibirmapa">    
    <div class="modal-content">
        <span class="close" (click)="fecharmapa()">&times;</span>
        <p class="cadastro-label2">Encontre no mapa o local</p>        
        <div *ngIf="tipotela == 'A'" >
            <input class="input_inline5" name="modalnomeEquipe" placeholder="Digite o local para pesquisa!" #localevento2 required>      
            <button class="button6" (click)="pesquisarLocal()">Pesquisar</button> 
        </div>
        <div #mapContainer class="map-container" ></div> 
        <div *ngIf="tipotela == 'A'" >
            <fieldset class="fieldset_inline3" >
                <legend class="legend_inline1">
                    Local Definido para o evento: 
                </legend>
                <input class="input_inline6" name="nomeEquipe" placeholder="Local Definido para o evento" #localevento3 required
                                    [disabled]="true" > 
            </fieldset >
        </div>               
        <div>
            <button class="button7" *ngIf="tipotela == 'A'" style="color: green;" (click)="confirmaLocal()">Confirmar</button>
            <button  class="button7" *ngIf="tipotela == 'A'" style="color: red;" (click)="cancelaLocal()">Cancelar</button>
        </div>
    </div>
</div>

<div class="modal" *ngIf="exibircustos">
    <div class="modal-content">
        <span class="close" (click)="fecharcustos()">&times;</span>
        <p class="cadastro-label2">Defina os Participantes de sua equipe que pagaram</p>        
        <fieldset class="fieldset_inline7">
            <legend class="legend_inline1">Participantes da Equipe</legend>
            <div *ngIf="tipotela == 'A'">
                <input class="input_inline7" name="procura" placeholder="id ou email do participante"
                    maxlength="25" #procura2 required>
                <button class="button4"
                (click)="botaopesquisarlistaparticipantesCusto()"
                    >Pesquisar</button>
                <button class="button4"
                (click)="LimpapesquisarlistaparticipantesCusto()"    
                    >Limpa filtro</button>
            </div>
            <div *ngIf="!filtrou" class="parametros-container" style="margin-top: 20px;">
                <div *ngFor="let participante of participantesSelecionados; let i = index"
                    style="display: flex; align-items: center; margin-bottom: 10px;">
                    <fieldset class="fieldset_inline6">
                        <legend class="legend_inline1">Dados do participante</legend>
                        <img [src]="participante.imagem" class="imagem_inline3">
                        <div style="margin-left: 20px;">
                            <p
                                class="nome_inline">
                                <strong>{{ participante.nome }}</strong>
                            </p>
                            <p
                                class="nome_inline">
                                {{ participante.email }}</p>
                        </div>
                    </fieldset>
                    <div>
                        <fieldset class="importancia-fieldset" style="height: 70px; margin-right: 1px;">
                            <legend class="legend_inline1">Pagou</legend>
                            <input style="margin-left: 20px;"  [disabled]="tipotela == 'D'" type="checkbox" id="rememberCheckbox"  (click)="setarpagador(i)"
                                [checked]="participante.Pagou">
                        </fieldset>
                    </div>                    
                </div>
            </div>
            <div *ngIf="filtrou && existenalistaparticipantes" class="parametros-container" style="margin-top: 20px;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <fieldset class="fieldset_inline6">
                        <legend class="legend_inline1">Dados do participante</legend>
                        <img [src]="imagempesquisalistaparticipante" style="width: 50px; height: 50px;">
                        <div style="margin-left: 20px;">
                            <p
                            class="nome_inline">
                                <strong>{{nomepesquisalistaparticipante}}</strong>
                            </p>
                            <p
                            class="nome_inline">
                                {{ emailpesquisalistaparticipante }}</p>
                        </div>
                    </fieldset>
                    <div>
                        <fieldset class="importancia-fieldset" style="height: 70px; margin-right: 1px;">
                            <legend class="legend_inline1">Pagou</legend>
                            <input style="margin-left: 20px;" type="checkbox" id="rememberCheckbox"
                            (click)="setarpagador(idpesquisalistaparticipante)"
                                [checked]="Pagadorpesquisalistaparticipante">
                        </fieldset>
                    </div>                    
                </div>
            </div>
            <div *ngIf="filtrou && !existenalistaparticipantes" class="resultado-pesquisa"
                style="display: flex; align-items: center; margin-top: 20px;">
                <p style="color: white; font-size: 25px;font-family: 'Times New Roman', 'Times New Roman';">Não existem
                    dados para a pesquisa!</p>
            </div>
        </fieldset>
        <div class="parametros-container" style="margin-top: 20px;">
        </div>
        <div>
            <fieldset *ngIf="tipotela == 'A'" class="fieldset_inline8">
                <legend class="legend_inline1">Chave do Pix</legend>
                <input class="input_inline8" name="procura" placeholder="Chave do Pix" #chavepix required>
            </fieldset>
            <p  *ngIf="tipotela == 'D'" style="color: white; font-size: 18px;font-family: 'Times New Roman', 'Times New Roman'; margin-top: 0px;">Chave pix: {{ChavePix}}</p>               
        </div>
        <div class="modal-actions">
            <button class="button5" *ngIf="tipotela == 'A'" style="color: green" (click)="BotaoGravarParticipantesCusto()" >Guardar</button>
            <button class="button5" *ngIf="tipotela == 'A'" style="color: red"  (click)="BotaoCancelarparticipantesCusto()">Cancelar</button>
        </div>
    </div>
</div>


<div class="modal" *ngIf="exibirsorteio">
    <div class="modal-content">
        <span class="close" (click)="fecharsorteio()">&times;</span>
        <p class="cadastro-label2">Defina os Times de sua equipe</p>        
        <fieldset style="margin-top: 10px;">
            <legend class="legend_inline1">Dados do sorteio</legend>
            <div *ngIf="tipotela == 'A'">
                <input type="number" name="procura" placeholder="Quantidade por Time" min = 1 
                    maxlength="25" #quantidade required>
                <button *ngIf="!sorteio" class="button2"
                (click)="sorteiotimes()"
                    >Sortear</button>
                <button *ngIf="sorteio" class="button2"
                (click)="sorteiotimes()"    
                    >Sortear Novamente</button>
            </div>
            <div *ngIf="sorteio" class="parametros-container" style="margin-top: 20px;">
                <div *ngFor="let time of TimesExistentes; let i = index" style="margin-bottom: 20px;">
                    <fieldset  class="fieldset_inline5">
                        <legend class="legend_inline1">{{ time.nomeTime }}</legend>
                        <div *ngFor="let competidor of time.competidores" style="display: flex; align-items: center; margin-bottom: 10px;">
                            <fieldset class="fieldset_inline4">
                                <legend class="legend_inline1">Dados do competidor</legend>
                                <img [src]="competidor.imagem" class="imagem_inline3">
                                <div style="margin-left: 20px;">
                                    <p class="nome_inline">
                                        <strong>{{ competidor.nome }}</strong>
                                    </p>
                                    <p class="nome_inline">
                                        {{ competidor.email }}
                                    </p>
                                </div>
                            </fieldset>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div *ngIf="!sorteio" class="resultado-pesquisa"
                style="display: flex; align-items: center; margin-top: 20px;">
                <p style="color: white; font-size: 25px;font-family: 'Times New Roman', 'Times New Roman';">Sorteio ainda não ocorreu!</p>
            </div>
        </fieldset>
        <div class="parametros-container" style="margin-top: 20px;">
        </div>
        <div>
            <p
                style="color: white; font-size: 18px;font-family: 'Times New Roman', 'Times New Roman'; margin-top: 0px;">                
        </div>
        <div class="modal-actions">
            <button class="button3" *ngIf="tipotela == 'A'" style="color: green" (click)="BotaoGravarSorteio()" >Guardar</button>
            <button class="button3" *ngIf="tipotela == 'A'" style="color: red"  (click)="BotaoCancelarSorteio()">Cancelar</button>
        </div>
    </div>
</div>